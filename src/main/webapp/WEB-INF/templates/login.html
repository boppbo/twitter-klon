<!DOCTYPE html>
<html>
<head>
 <meta charset="UTF-8"> 
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta/css/bootstrap.min.css">

<title>${siteName} - Login</title>
</head>

<body>



<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="#">${siteName}</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">

    </ul>
	
	<ul class="navbar-nav">
	
		      <li class="nav-item active">
        <a class="nav-link" href="${baseUrl}/${username}">Timeline</a>
      </li>
	
	      <li class="nav-item active">
        <a class="nav-link" style="margin-right: 20px" href="#">Hallo ${username}</a>
      </li>
	  
	  
	
	
    <form class="form-inline my-2 my-lg-0">
      <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
      <button class="btn btn-outline-primary my-2 my-sm-0"style="display: none;" type="submit">Search</button>
    </form>
	</ul>
  </div>
</nav>




<div class="container col-lg-4" style="margin-top: 10%">




<div class="card">
  <h4 id="loginHeader" class="card-header">Login</h4>
  <h4 id="registerHeader" class="card-header" style="display: none">Register</h4>
  <div class="container col-lg-11" style="margin-top: 10px !important; margin-bottom: 10px !important">
  
  
  
  <form id="loginInput" name="">
  <div class="form-group">
    <label for="exampleInputEmail1">Username</label>
    <input type="email" class="form-control" id="loginUsername" name="uid" aria-describedby="emailHelp" placeholder="Benutzername">
  </div>
  <div class="form-group">
    <label for="exampleInputPassword1">Password</label>
    <input type="password" class="form-control" id="loginPassword" name="pw" placeholder="Password">
  </div>
 <div id="loginError" style="display: none;" class="alert alert-danger" role="alert">
  Ung√ºltiger Benutzername oder Password!
</div>
  
  <button id="loginButton" type="button" class="btn btn-outline-success float-right">Login</button>
  <button style="display: none;" id="backToLogin" type="button" class="btn btn-outline-success float-left">Back to Login</button>
</form>
 <button id="registerButton" class="btn btn-outline-primary my-2 my-sm-0"style="float: left" type="button">Register</button>
</div>
</div>


</div>





<script
			src="https://code.jquery.com/jquery-3.2.1.js"
			  integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
			  crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>



<script>



$( document ).ready(function() {



var myEl = document.getElementById('registerButton');
myEl.addEventListener('click', function() {
$('#loginHeader').hide();
$('#loginButton').hide();
$('#registerHeader').show();
$('#backToLogin').show();


var recipient = $('#loginInput').serializeArray();
console.log(recipient);
var output = {}; // Declare an object.
recipient.forEach(function(v, i) {
output[v.name] = v.value; // Assign the current value to the current key.
})
console.log(output);

$.ajax({
    url: "http://127.0.0.1:8080/api/v1/login",
    type: "POST",
    data: JSON.stringify(output), // Send the object.
    contentType: "application/json",
    statusCode: {
        200: function (response) {
        	$("#loginError").show().delay(3000).fadeOut("slow");
        	
        },
        401: function (response) {
        	
        }
     },
    success: function(response) {
      console.log(response);
    }
    
    
  });


$('#registerButton').css('float','right');
$('#registerButton').animate({
	left: '100px'
},100);
}, false);


var myEl = document.getElementById('backToLogin');
myEl.addEventListener('click', function() {
$('#loginHeader').show();
$('#loginButton').show();
$('#registerHeader').hide();
$('#backToLogin').hide();


$('#registerButton').css('float','left');
$('#registerButton').animate({
	left: '100px'
},100);
}, false);










// $(function() {
//   var recipient = $('#loginInput').serializeArray();
//   console.log(recipient);
//   var output = {}; // Declare an object.

//   recipient.forEach(function(v, i) {
//     output[v.name] = v.value; // Assign the current value to the current key.
//   });
  


//   $.ajax({
//     url: "http://httpbin.org/post",
//     type: "POST",
//     data: JSON.stringify(output), // Send the object.
//     contentType: "application/json",
//     success: function(response) {
//       console.log(response);
//     }
//   });
// });
 });
</script>



</body>

</html> 